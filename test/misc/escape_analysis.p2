
public

testEscapees {
    //func1()
    //func2()
    //func3()
    //func4()
    //func5()
    //func6()
    //func7()
}
func1 {
    int a
    return &a   // bad
}
func2 {
    int a
    int* b = &a
    var c = b
    if(false) return c  // bad
    c = null
    return c    // ok
}
func3 {
    if(int a=0; true) return &a // bad
    return null as int* // ok
}
func4 {
    int* a 
    return a    // ok
}
func5 {
    [int a, int b] t
    int* ptr = &t.a
    if(false) return ptr    // bad
    ptr = &t as int*
    return ptr // bad
}
func6 {
    struct A { int a, int b }
    one {
        A a
        return &a.b // bad
    }
    two {
        A a
        int* ptr = &a.a
        return ptr  // bad
    }
    one()
    two()
}
func7 {
    one {
        int[3] array
        return &array // bad
    }
    two {
        int[3] array
        return &array[0] // bad
    }
    one()
    two()
}


